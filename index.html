<!DOCTYPE html>
<html>
  <head>
  	<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M2PK5TM');</script>
<!-- End Google Tag Manager -->
<link rel="manifest" href="/manifest.json">
    <title>My webpage!</title>
    <link rel="stylesheet" href="styles/styles.css" />
    <script async src="./javascript/index.js"></script>
    <script type="text/javascript" src="messages.json"></script>
<script type="text/javascript">
     var clevertap = {event:[], profile:[], account:[], onUserLogin:[], notifications:[], privacy:[]};
 // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
clevertap.account.push({"id": "W6Z-6Z5-975Z"});
clevertap.notifications.push({
    "titleText":'Would you like to receive Push Notifications?',
    "bodyText":'We promise to only send you relevant content and give you updates on your transactions',
    "okButtonText":'Sign me up!',
    "rejectButtonText":'No thanks',
    "okButtonColor":'#f28046',
"serviceWorkerPath": "/clevertap_sw.js"});

clevertap.notificationCallback = function(msg){
      //raise the notification viewed and clicked events in the callback
      //clevertap.raiseNotificationViewed();
      //console.log(JSON.stringify(msg));//your custom rendering implementation here

    var messages = JSON.parse(localStorage.getItem("message"));
    if(!messages){
      messages =[];
    }
    messages.push({
    tab : msg['kv']['tab'],
    title : msg['kv']['title'],
    body : msg['kv']['body'],
    imageurl : msg['kv']['imgurl']
  });
  localStorage.setItem("message", JSON.stringify(messages));
  console.log("Displaying Messages ----> ",localStorage.getItem("message"));
};
     

clevertap.privacy.push({optOut: false}); //set the flag to true, if the user of the device opts out of sharing their data
clevertap.onUserLogin.push({"Site":{"Name":"Web User","Email":"abc@example.com","Identity":"xyz123","Custom_Tag":"Champion"}});//9889
timeFunction();

clevertap.event.push("Web Push View",{"Product Name":"Product1","category":"cat1","date_time":new Date("March 03, 2020 11:30:00")});
clevertap.privacy.push({useIP: false}); //set the flag to true, if the user agrees to share their IP data
function timeFunction() {
            setTimeout(function(){ clevertap.event.push("Web Event"); }, 1000);
            clevertap.event.push("Web Event Test");
            // clevertap.profile.push({"Site":{"Custom_Tag":"Champ"}});
        }
 (function () {
		 var wzrk = document.createElement('script');
		 wzrk.type = 'text/javascript';
		 wzrk.async = true;
		 wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/a.js';
		 var s = document.getElementsByTagName('script')[0];
		 s.parentNode.insertBefore(wzrk, s);
  })();


function dismissPopup() {
	var wrapper = window.parent.document.getElementById('wizParDiv2');
	wrapper.remove();
}

</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: "Lato", sans-serif;
  background-image: url("coder.jpg");
  position: relative;
  background-repeat: no-repeat;
  background-size: cover;
}

.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  right: 0;
  background-color: white;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}

.label-container{
  position:fixed;
  bottom:48px;
  right:105px;
  display:table;
  visibility: hidden;
}

.label-text{
  color:#FFF;
  background:rgba(51,51,51,0.5);
  display:table-cell;
  vertical-align:middle;
  padding:10px;
  border-radius:3px;
}

.label-arrow{
  display:table-cell;
  vertical-align:middle;
  color:#333;
  opacity:0.5;
}

.float{
  position:fixed;
  width:60px;
  height:60px;
  bottom:40px;
  right:40px;
  background-color:#06C;
  color:#FFF;
  border-radius:50px;
  text-align:center;
  box-shadow: 2px 2px 3px #999;
}

.my-float{
  font-size:24px;
  margin-top:18px;
}

a.float + div.label-container {
  visibility: hidden;
  opacity: 0;
  transition: visibility 0s, opacity 0.5s ease;
}

a.float:hover + div.label-container{
  visibility: visible;
  opacity: 1;
}

/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
#header
{
  height: 60px;
  width: 30%;
  background-color: #4F4947;
}
a
{
  color: #63D721;
  text-decoration: none;
  font-family: 'Courier New';
  text-shadow: 2px 2px green;
}
</style>
  </head>
  <body>
  	<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2PK5TM"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <div id="header">
      <h1><a href="#">Web Inbox Website</a></h1>
    </div>

  <div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    


<div class="tab">
  <button class="tablinks" onclick="openEvent(event, 'All')">All</button>
  <button class="tablinks" onclick="openEvent(event, 'Promotions')">Promotions</button>

</div>

<div id="All" class="tabcontent active" style="display:block">
  <h3>All</h3>
  
  <ul id="allData">

  </ul>
</div>

<div id="Promotions" class="tabcontent">
  <h3>Promotions</h3>
   <ul id="restData">

  </ul>
</div>
  </p>
</div>



<a href="#" class="float" onclick="openNav()">
<i class="fa fa-envelope my-float"></i>
</a>
<div class="label-container">
<div class="label-text">Feedback</div>
<i class="fa fa-play label-arrow"></i>
</div>




<script>


function openNav() {
  document.getElementById("mySidenav").style.width = "400px";
  readMessages('All');
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}

function openEvent(evt, tabName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " active";

  readMessages(tabName);
}

function readMessages(tabName){
  // Check browser support
  if (typeof(Storage) !== "undefined") {
  

    var messagesData =  JSON.parse(localStorage.getItem("message"));

    console.log("messages are",messagesData);

    var allArray = [];
    var restArray= [];

    for(var i = 0 ; i< messagesData.length; i++ ){

      if(messagesData[i].tab == 'all'){
           allArray.push(messagesData[i]);
      }
      else{
          restArray.push(messagesData[i]);
      }
    }

    if(tabName == 'All'){
       writeData(allArray,tabName);   
     }

     else{
        writeData(restArray,tabName);   
     }

    }
}


function writeData(dataArray, tabName){

   
   for(var i = 0 ; i< dataArray.length; i++ ){

     var listItem;
     let output = `<div class="image-section">
      <div class="section-style">
        <img src="${ dataArray[i].imageurl }" style="height:100px"/>
        <h4>${ dataArray[i].title }</h4>
        <p>${ dataArray[i].body }</p>
      </div>
    </div>`;
    listItem = document.createElement('li');
     listItem.innerHTML = output;

     if(tabName == 'All'){
      document.getElementById("allData").appendChild(listItem);
     }
     else{
      document.getElementById("restData").appendChild(listItem);
     }
     
  }
}
</script>
<marquee style="color: white; "><b>Hackathons bring people with technical backgrounds together to form teams to solve a problem or develop new ideas.

Hackathons can help participants hone their IT skills, meet people and work with others in their field. Corporate hackathons encourage employees to innovate, foster team building and provide opportunities to cross-collaborate across departments.</b></marquee>
<marquee>
        <img src="https://source.unsplash.com/random/400x200" alt="" height=250 width=350/>
       
        <img src="https://source.unsplash.com/random/400x200" alt="" height=250 width=350/>

        <img src="https://source.unsplash.com/random/400x200" alt="" height=250 width=350/>
    
        <img src="https://source.unsplash.com/random/400x200" alt="" height=250 width=350/>
      </marquee>
   
  </body>
</html>
